<!-- Template for PROJECT REPORT of CapstoneDesign 2025-2H, initially written by khyoo -->
<!-- 본 파일은 2025년도 컴공 졸업프로젝트의 <1차보고서> 작성을 위한 기본 양식입니다. -->
<!-- 아래에 "*"..."*" 표시는 italic체로 출력하기 위해서 사용한 것입니다. -->
<!-- "내용"에 해당하는 부분을 지우고, 여러분 과제의 내용을 작성해 주세요. -->

# Team-Info
| (1) 과제명 | *ChatBot Diary*
|:---  |---  |
| (2) 팀 번호 / 팀 이름 | 37-코드셋 |
| (3) 팀 구성원 | 남다은 (2171011): 리더, *프롬프트 및 프론트엔드* <br> 안지은 (2276182): 팀원, *백엔드*	 |
| (4) 팀 지도교수 | 용환승 교수님 |
| (5) 과제 분류 | 산학과제 |
| (6) 과제 키워드 | 채팅 AI와의 커뮤니케이션, 요약 AI의 자동 일기 작성, 감정 분석 시각화  |
| (7) 과제 내용 요약 | 일기를 쓰고는 싶지만 시간적인 부담이 있거나, 자신의 부정적인 감정 상태를 돌아보고 해소하고 싶지만 그럴 여유가 없는 바쁜 사람들을 타겟 고객으로 하는 서비스.<br> 사용자와 공감하며 대화하는 AI 챗봇과 채팅을 나누면, 요약 AI가 그 날의 대화 내용을 요약해 일기 형식으로 제공하고 사용자의 감정 상태 또한 분석하여 보여준다. 감정 분석 결과는 감정마다 점수로 계산되어 제공되고, 사용자가 한 눈에 인식할 수 있도록 시각화하여 보여진다.<br> **사용자는 실시간 채팅을 통해 자신의 감정을 해소할 수 있고, 시간적인 부담 없이 하루 일과와 감정상태를 종합한 일기를 얻을 수 있으며, 자신의 감정 상태를 진단해볼 수 있다.** |

<br>

# Project-Summary
| 항목 | 내용 |
|:---  |---  |
| (1) 문제 정의 | 사회적 압박이 크고 바쁜 일상 속에서 사람들은 자신의 감정을 돌아볼 여유를 갖기 쉽지 않습니다. 해소되지 못한 감정은 점점 쌓이게 되며 결국 정신적, 신체적 부진을 일으키고 삶의 질을 저하시킵니다. 실제로 이렇게 일상에 지친 사람들은 점점 늘어나는 추세이며, 저희는 이런 사람들을 저희 프로젝트의 Target Customer로 설정했습니다.<br>이 Target Customer는 **자신의 감정을 주변에 솔직하게 드러내지 못해 외로움을 느끼고, 하루 일과에 쫓겨 일기를 쓰는 것 조차 힘든 시간적 피로를 겪으며, 이미 정신적으로 많이 지쳐 자신의 감정 상태를 돌아볼 여유조차 없을 정도로 정신적 부담을 안고 있는 사람들**입니다. 이런 Target Customer의 특징을 기반으로 저희는 이 과제의 Pain Point를 **스트레스 원인 파악의 어려움, 시간 부족, 사회적 고립, 프라이버시 보장에 관한 걱정** 총 4가지로 도출했습니다.  |
| (2) 기존연구와의 비교 | **1.'답다 - 답장받는 다이어리'** : 사용자가 핵심 감정 중 하나를 선택한 뒤 일기를 작성하면 다이어리가 답장을 보내주는 형태의 서비스 <br><br> 장점 : <br><li> 사용자가 자신의 감정 상태를 잘 파악할 수 있도록 캘린더에 날마다의 감정 상태를 시각화하여 보여줌. <br><li> 사용자의 시간적 부담을 덜어주기 위해 문답형식을 통한 일기 작성 기능을 제공. <br><br> 단점 : <br><li> 사람의 감정은 하나로 딱 잘라 구분하기 어렵고 사용자가 미리 정해진 몇 가지 감정 선택지 중 하나만 선택할 수 있어, 다양한 감정의 결을 담아내기 어렵고 사용자의 실제 감정을 정확하게 반영하기엔 한계가 있음. <br><li> 문답의 질문이 언제, 어디서, 무엇을 등의 간단한 질문으로 한정되어 있어 직접 자유롭게 대화함으로써 도출되는 결과에 비해 하루 일과를 돌아보기에는 부족한 면이 많음. <br><br><br> **2.'심스페이스'** : 사용자가 자신의 감정을 선택하고 일기를 쓰면, 이를 기반으로 사용자의 감정을 추출하고 스트레스,불안감,우울감,열등감 등의 지표별로 점수를 매긴 뒤 시각화하여 보여주는 서비스. 사용자에게 공감해주는 채팅 기능도 함께 제공하지만 대화 기록이 저장되지는 않음. <br><br> 장점 : <br><li> 부정적인 감정에 대한 지표를 계산한 뒤 사용자에게 보여주어 부정적 감정이 쌓이는 것을 조기에 방지할 수 있음. <br><li> 사용자에게 공감해주는 채팅 기능을 통해 단순히 일기를 적는 것으로는 해소하기 어려운 감정을 해소할 수 있게 해줌. <br><br> 단점 : <br><li> 미리 정해진 선택지 중 하나를 고르는 것 만으로는 사용자의 감정을 완벽하게 반영할 수 없음. <br><li> 채팅 기록이 저장되지 않아 나중에 사용자가 대화를 복기하고자 할 때 그 내용을 볼 수 없으며, 이는 자신의 일상을 되돌아보고 싶은 사용자에게 있어 아쉬운 점이 될 수 있음. <br><br><br> **유사 서비스에 대해 Chatbot Diary가 가지는 장점** <br><li> 사용자가 자신의 감정을 직접 선택하는 방식이 아니라 AI가 대화 내용을 기반으로 감정을 분석해 도출하기 때문에, 사용자 스스로도 인지하지 못했던 감정 상태를 새롭게 알게 될 수 있음. <br><li> 감정 분석 시 점수를 기반으로 대표 감정 하나와 부가 감정 여러 개를 함께 도출하여, 복잡한 감정 상태를 보다 정확하게 반영할 수 있음. <br><li> AI와의 대화가 미리 정해진 틀이나 질문 형식에 국한되지 않고 자유롭게 이루어지기 때문에, 사용자의 표현 자유도가 높아지고 더 정확한 감정 도출이 가능함. <br><li> 사용자의 과거 대화 기록과 일기 내용이 모두 데이터베이스에 저장되기 때문에, 언제든 사용자가 원할 때 자신의 기록을 되돌아볼 수 있음. <br><li> 캘린더 인터페이스를 사용해 사용자로 하여금 과거의 감정들을 돌아보고 추이를 확인할 수 있게 해줌. |
| (3) 제안 내용 | **1.프라이버시 걱정 없는 대화 상대** : Target Customer가 느끼는 외로움을 해소하기 위해 민감한 대화 주제를 얘기하더라도 해당 대화내용이 퍼질 걱정 없이 믿을 만한 대화 상대. <br><br> **2.부정적 얘기도 잘 들어주는 대화 상대** : 상대방의 기분이나 상태를 과하게 신경쓰지 않더라도 마음 편하게 부정적 얘기를 나눌 수 있는 대화 상대. <br><br> **3.짧은 시간으로 쓸 수 있는 일기 서비스** : 바쁜 일상으로 인해 시간적 피로를 겪는 Target Customer을 위해 짧은 시간으로도 사용할 수 있는 일기 서비스. <br><br> **4.부담 없는 감정 정리 서비스** : 굳이 번거롭게 시간을 들여 하루 일과를 돌아보지 않더라도 대신 감정을 알아내고 정리해주는 감정 정리 서비스. <br><br> **5.개별 사용자에게 맞춘 대화 상대** : 사용자 개개인의 평소 습관이나 행동 방식을 분석하여 지금 어떤 감정을 느끼고 있는지 정확하게 파악하고 공감해주는 개별 사용자에게 맞춘 대화 상대. |
| (4) 기대효과 및 의의 | 공감형 AI 챗봇을 통한 실시간 대화는 사용자에게 언제든 편하게 감정을 털어놓을 수 있는 대화 상대가 되어주며, 외로움과 사회적 고립감을 해소하는 데 도움을 준다. 특히 민감한 감정이나 부정적인 이야기조차 프라이버시 걱정 없이 자유롭게 나눌 수 있는 환경을 제공하여, **사용자의 심리적 안정감에 긍정적인 영향을 미칠 수 있다.** <br> 또한, 사용자는 별도의 시간과 노력을 들이지 않고도 짧은 대화를 통해 하루를 돌아보고 감정을 정리할 수 있으며, 요약 AI가 대화 내용을 바탕으로 자동 생성한 일기를 통해 자연스럽게 자신의 일상을 돌아볼 기회를 얻게 된다. 그리고 대화 내용을 기반으로 한 감정 분석 결과는 점수화 및 시각화되어 제공되므로, **사용자는 자신의 감정 상태를 한눈에 파악하는 것이 가능하다.** |
| (5) 주요 기능 리스트 | **1.오픈 API 모델 사용** : 믿을만한 대화 상대를 제공하기 위해 대화 상대를 사람이 아닌, AI 챗봇으로 설정함. AI가 대화상대인 이상 사용자는 더이상 다른 사람들에게 자신의 개인적인 이야기가 퍼지지는 않을까 하고 고민할 필요 없음. <br><br> **2.회원 인증 시스템 사용** : 이 또한 사용자가 대화 상대인 AI 챗봇을 믿을 수 있게 하기 위한 기능으로, 회원 인증 단계를 통해 각 사용자는 자신이 챗봇과 나눈 대화만을 확인할 수 있으며 다른 사용자의 대화 기록은 절대 열람할 수 없음. <br><br> **3.공감 능력에 최적화된 프롬프트 사용** : 사용자로 하여금 부정적인 대화를 꺼내도 잘 들어준다고 느낄 수 있도록 팀에서 자체적으로 AI 의 답변에 대해 공감 능력 평가를 실시해 높은 점수를 받을 수 있도록 프롬프트를 조정한 뒤 챗봇에 적용할 예정. <br><br> **4.실시간 대화가 가능한 챗봇** : 사용자가 부담없이 원할 때 언제든 대화를 시작할 수 있고, 마찬가지로 원할 때 언제든 대화를 끝낼 수 있도록 사용자가 메세지를 보내면 바로바로 답장을 할 수 있도록 구현할 예정. <br><br> **5.짧은 대화만으로도 일기를 써주는 AI** : 바쁜 사용자들을 위해 대중교통을 기다리거나 하는 식의 일상 속 짧은 자투리 시간만으로도 일기를 만들 수 있도록 SNS 채팅과 같은 대화 방식을 사용. <br><br> **6.짧은 대화로도 감정 도출 및 분석** : 앞서 기술한 것처럼 일상 속 짧은 자투리 시간에 나눈 대화만으로도 사용자의 감정을 효과적으로 도출할 수 있도록, 요약 AI의 프롬프트를 최적화. <br><br> **7.하루의 주요 감정 시각적 표시** : 요약AI가 사용자의 감정 상태를 분석한 뒤 사용자로 하여금 이를 한 눈에 파악할 수 있도록 시각적으로 표현할 예정. <br><br> **8.사용자의 전반적 감정 상태를 반영한 캘린더** : 요약AI가 도출한 사용자의 감정들을 달 별로 모아 캘린더 인터페이스에 시각적으로 표시해 사용자로 하여금 한 달 동안의 감정 추이 및 전반적이 감정 상태를 파악할 수 있도록 도와줌. <br><br> **9.채팅 내역을 개별적으로 저장 및 관리** : AI가 각 사용자에게 맞춤형으로 적응할 수 있도록, 회원 인증 시스템과 연동해 사용자별 채팅 내역을 개별적으로 저장하고 관리하는 데이터베이스를 구축할 예정. <br><br> **10.딥러닝 모델 API를 통해 학습하는 API** : 딥러닝 모델의 API를 활용하여 사용자와의 대화에서 개인화된 대화 패턴을 학습하고 이를 기반으로 보다 정확한 감정 분석 결과를 제공. |

<br>
 
# Project-Design & Implementation
| 항목 | 내용 |
|:---  |---  |
| (1) 요구사항 정의 | <img src=https://github.com/daeun1022/ewhafallcapston/blob/main/Images/%EA%B8%B0%EB%8A%A5%EB%B3%84%EC%83%81%EC%84%B8%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD.png> <img src=https://github.com/daeun1022/ewhafallcapston/blob/main/Images/E-R%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8.png> |
| (2) 전체 시스템 구성 | *프로젝트를 위하여, SW 전체 시스템의 구조를 보인다. (가능하다면, 사용자도 포함) <br> 주요 SW 모듈을 보이고, 각각의 역할을 기술한다. <br>만약, 오픈소스 혹은 외부 모듈을 사용한다면 이또한 기술한다.* |
| (3) 주요엔진 및 기능 설계 | **1.AI 챗봇 (GPT-4 API 사용)** <br><li> 입력: 사용자의 채팅 텍스트 <br><li> 처리: GPT-4 API를 호출하여 문맥을 파악하고 자연스럽게 대화 진행 <br><li> 출력: 공감형 대화 응답 제공 <br><br> **2.대화 요약 AI (GPT-4 API 사용)** <br><li> 입력: 사용자의 전체 채팅 로그 <br><li> 처리: GPT-4 API를 이용해 요약된 일기 형식으로 변환 <br><li> 출력: 일기 형태의 텍스트 반환 <br><br> **3.감정 분석 AI (GPT-4 API 사용)** <br><li> 입력: 사용자 채팅 텍스트 <br><li> 처리: 감정 분석 API를 호출하여 감정을 점수화 <br><li> 출력: 감정 점수 (예: 긍정 0.8, 부정 0.2) <br><br> **4.데이터 저장 및 관리 (Firebase)** <br><li> 사용자 계정 정보 저장 (이메일, 비밀번호) <br><li> 일기 및 감정 분석 데이터 저장 <br><li> 날짜별 감정 점수 저장 <br><br> **5.감정 시각화 및 캘린더 UI** <br><li> 감정 점수를 기반으로 날짜별 대표 감정을 이모티콘으로 표시 <br><li> 감정 점수 변화를 그래프로 시각화 <br><li> 특정 날짜 클릭 시 해당 일기 및 감정 분석 결과를 조회 |
| (4) 주요 기능의 구현 | **1.공감 능력에 최적화된 프롬프트 사용** <br> 기능의 목적 : 사용자가 챗봇의 답변을 작위적으로 느끼지 않고, 자연스럽고 친근하게 느낄 수 있도록 하는 것 <br><br> **기존 챗봇의 답변** <img src=https://github.com/daeun1022/ewhafallcapston/blob/main/Images/%EA%B8%B0%EB%8A%A5%EA%B5%AC%ED%98%84_%EA%B8%B0%EC%A1%B4%EB%8C%80%ED%99%94%EA%B8%B0%EB%A1%9D.png> <br><li> **표현이 딱딱하고 건조함** : 기계적인 말투로 인해 진짜 사람이 사용자의 감정에 공감한다는 느낌이 들지 않음. <br><li> **사용자에 관한 공감 부족** : 늦잠을 자서 기분이 안 좋다는 사용자에게 공감하거나 위로하는 말 없이 오직 늦잠을 잔 이유에 대해서만 물어봄. <br><li> **표현의 다양성이 부족함** : 대다수의 답변이 "~했구나", "~했어" 라는 비슷한 어미를 사용하면서 대화가 단조롭고 작위적으로 느껴짐. <br><br> **문제 해결을 위한 해결책** <br><li> 사용자에게 친한 친구같은 느낌을 주기 위해 일부러 비격식적 호칭이나 줄임말, 유행어, 약간의 욕설들을 사용하도록 지시함. <br><li> AI나 상담사 같은 말투는 금지한 채 인간다운 말투, 친구다운 말투를 유지할 것을 지시함. <br><li> 신나거나 유쾌한 상황에는 자신도 같은 상황을 겪는 것처럼 사용자의 감정에 과몰입해줄 것을 지시함. <br><li> 반대로 진지한 상황에서는 사용자의 감정을 지지해줄것을 지시함. <br><li> 사용자가 속상해 하는 상황에서 AI 특유의 교육적인 말투가 아닌 자신이 그 감정에 공감해주고 있다는 것을 보여주기 위해 감정이 실린 반응 위주로 해줄 것을 지시함. <br><br> **해당 해결책을 바탕으로 수정된 프롬프트** <img src=https://github.com/daeun1022/ewhafallcapston/blob/main/Images/%EC%88%98%EC%A0%95%ED%95%9C%ED%94%84%EB%A1%AC%ED%94%84%ED%8A%B8.png> <br><br> **수정된 프롬프트를 기반으로 재출력된 챗봇의 답변** <img src=https://github.com/daeun1022/ewhafallcapston/blob/main/Images/%EA%B8%B0%EB%8A%A5%EA%B5%AC%ED%98%84_%EC%88%98%EC%A0%95%EB%90%9C%EB%8C%80%ED%99%94%EA%B8%B0%EB%A1%9D1.png> <img src=https://github.com/daeun1022/ewhafallcapston/blob/main/Images/%EA%B8%B0%EB%8A%A5%EA%B5%AC%ED%98%84_%EC%88%98%EC%A0%95%EB%90%9C%EB%8C%80%ED%99%94%EA%B8%B0%EB%A1%9D2.png> |
| (5) 기타 | 챗봇의 공감 능력 및 친밀한 말투를 평가하기 위해 사용한 기준들 <br><br> **공감능력 평가** <br><li> **메시지 길이** : 단답형(예 : "ㅇㅇ", "그렇구나")보다는 풍부한 내용으로 반응하는지. <br><li> **회피 vs 공감 패턴** : 감정적인 내용이 나왔을 때 대화를 다른 주제로 돌리는 패턴이 있는지. <br><li> **질문 비율** : 상대방이 감정이나 경험을 더 이야기할 수 있도록 유도하는 질문 사용 빈도. <br><li> **긍정 vs 부정 응답 비율** : "괜찮아", "잘될 거야" 같은 긍정적 피드백과 "그건 좀 아닌 것 같아" 같은 부정적 피드백의 비율 비교. <br><li> **공감 표현 빈도** : "이해해", "그럴 수 있어", "힘들었겠다" 등의 공감 표현 사용 횟수. <br><li> **감정 반영** : 상대방의 감정을 반영하는 단어 사용 여부. (예 : "나도 그런 경험 있어", "너무 속상하겠다”) <br><br> **친밀한 말투 평가** <br><li> **비격식 호칭 사용** : “야” 같은 비격식적 호칭이나 반말을 사용 <br><li> **이모지/의성어** : 이모지 혹은 “ㅜㅜ” “ㅋㅋ” 등의 감정을 간편하게 표현할 수 있는 의성어를 사용 <br><li> **유머/밈** : 인터넷에서 유행하고 있는 유머나 밈을 대화 중에 자연스럽게 섞어 대화하기 편한 분위기를 형성 <br><li> **감정 공유 표현** : 상대방의 감정에 대해 “나도 기쁘다“ 혹은 “같이 열받네“ 등의 표현을 사용해 자신도 같은 감정을 느끼고 있음을 공유 <br><li> **상호작용 유도** : 대화의 주제에 관련한 후기 공유를 요구하거나, “같이 가자“ “같이 놀자“ 등의 표현을 사용 <br><li> **과거 언급/연결** : 상대방과의 공통된 예전 이야기나 경험을 회상 |

<br>
